{% extends "base.html" %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <div class="mb-8 flex justify-between items-center">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2 tracking-tight relative pl-4 border-l-4 border-gray-900">
            系统设置
        </h1>
        <a href="{{ url_for('admin_dashboard') }}" class="inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors text-sm">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            返回上一级
        </a>
    </div>
    
    <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-8 border border-gray-200 transform hover:scale-[1.01] transition-transform duration-300">
        <div class="p-6">
            <form method="post" action="{{ url_for('admin_settings') }}">
                <div class="space-y-6">
                    <div>
                        <label for="platform_name" class="block text-sm font-medium text-gray-700 mb-1">平台名称</label>
                        <input type="text" name="platform_name" id="platform_name" value="{{ platform_name }}" 
                               class="px-4 py-2 border border-gray-300 rounded-md shadow-sm w-full focus:ring-black focus:border-black">
                        <p class="mt-1 text-sm text-gray-500">显示在页面顶部和标题中的平台名称</p>
                    </div>
                    
                    <div>
                        <label for="allow_tourist" class="block text-sm font-medium text-gray-700 mb-1">游客登录控制</label>
                        <div class="flex items-center">
                            <label class="inline-flex relative items-center cursor-pointer">
                                <input type="checkbox" name="allow_tourist" id="allow_tourist" {% if allow_tourist == 'true' %}checked{% endif %} class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"></div>
                            </label>
                            <span class="ml-3 text-sm font-medium text-gray-700">{{ '已开启' if allow_tourist == 'true' else '已关闭' }}</span>
                        </div>
                        <p class="mt-1 text-sm text-gray-500">开启时允许游客登录并发帖评论，关闭时禁止游客登录及相关操作</p>
                    </div>
                    
                    <div>
                        <label for="allow_tourist_comment" class="block text-sm font-medium text-gray-700 mb-1">游客评论控制</label>
                        <div class="flex items-center">
                            <label class="inline-flex relative items-center cursor-pointer">
                                <input type="checkbox" name="allow_tourist_comment" id="allow_tourist_comment" {% if allow_tourist_comment == 'true' %}checked{% endif %} class="sr-only peer">
                                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"></div>
                            </label>
                            <span class="ml-3 text-sm font-medium text-gray-700">{{ '已开启' if allow_tourist_comment == 'true' else '已关闭' }}</span>
                        </div>
                        <p class="mt-1 text-sm text-gray-500">开启时允许游客评论帖子，关闭时游客不能评论（即使允许游客登录）</p>
                    </div>
                    
                    <div class="pt-4 border-t border-gray-200">
                        <button type="submit" class="inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black">
                            保存设置
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %} 